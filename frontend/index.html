<!DOCTYPE html>
<html>
 <body style="background-color: lightseagreen;">

<head>
    <title>RepeatAfterMe.ai</title>
    <style>
        body {
            background-color: lightseagreen;
        }
    </style>
</head>
<body>
    <h1>RepeatAfterMe.ai</h1>
    <hr>
    <h2>Word:</h2> {{ word }}

    <h3>Record Audio:</h3>
    <button id="record-btn">Start Recording</button>
    <p id="record-status"></p>

     <audio id="audioPlayer" controls style="display:none;"></audio>


    <h3>Upload File:</h3>
    <form action="/upload" method="POST" enctype="multipart/form-data">
        <!-- hidden input to send the word with the form -->
        <input type="hidden" name="word" value="{{ word }}">
        <input type="file" name="file" id="fileinput" required> 
        <button type="submit">Submit</button>
    </form>
    <hr>
    <h3>Results:</h3>
    {% if result %}
        <p><strong>Transcribed Text:</strong> {{ result.transcription }}</p>
        <p><strong>Pronunciation Score:</strong> {{ result.score }}</p>
    {% else %}
        <p>No results yet. Upload a file and try.</p>
    {% endif %}

    <!-- load the external JS file -->
    <script src="/static/recorder.js"></script>

</body>
</html>
